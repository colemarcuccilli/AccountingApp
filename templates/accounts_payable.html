<!-- File: templates/accounts_payable.html -->

{% extends "base.html" %}

{% block content %}
<div class="accounts-payable">
    <h1>Accounts Payable</h1>
    
    <div class="ap-filters">
        <div class="form-group">
            <label for="vendor-filter">Vendor:</label>
            <select id="vendor-filter">
                <option value="">All Vendors</option>
                {% for vendor in vendors %}
                <option value="{{ vendor.id }}">{{ vendor.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="as-of-date">As of Date:</label>
            <input type="date" id="as-of-date" value="{{ today_date }}">
        </div>
        <button id="apply-filters">Apply Filters</button>
    </div>

    <div class="ap-summary">
        <h2>Accounts Payable Summary</h2>
        <div id="ap-charts">
            <div id="aging-chart"></div>
            <div id="status-chart"></div>
        </div>
        <div id="payment-efficiency"></div>
    </div>

    <div class="ap-details">
        <h2>Accounts Payable Details</h2>
        <table id="ap-table">
            <thead>
                <tr>
                    <th>Bill #</th>
                    <th>Vendor</th>
                    <th>Bill Date</th>
                    <th>Due Date</th>
                    <th>Total Amount</th>
                    <th>Remaining</th>
                    <th>Days Overdue</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                <!-- AP data will be dynamically populated here -->
            </tbody>
        </table>
    </div>

    <div class="aging-summary">
        <h2>Aging Summary</h2>
        <table id="aging-table">
            <thead>
                <tr>
                    <th>Vendor</th>
                    <th>Current</th>
                    <th>1-30 Days</th>
                    <th>31-60 Days</th>
                    <th>60+ Days</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                <!-- Aging summary data will be dynamically populated here -->
            </tbody>
        </table>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/accounts_payable.js') }}"></script>
{% endblock %}